{% extends "base.html" %}
{% block link %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/results.css') }}">
{% endblock %}
{% block title %}Is this a Good Time?{% endblock %}
{% block h %}
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<title>Checkbox</title>
<script type="text/javascript">
$(document).ready(function () {
    $('#checkbox1').change(function () {
        if (this.checked) 
        //  ^
           $('#autoUpdate').fadeIn('slow');
        else 
            $('#autoUpdate').fadeOut('slow');
    });
});

</script>
{% endblock %}
{% block content %}
<div class="main">
  {%if result in ["Invest"]%}
    <h1>{{result}}</h1>
  {%elif result in ["Don't Invest"]%}
    <h3>{{result}}</h3>
  {% endif %}
  <h4 style="text-align:center"> Based on {{trials}} datapoints investing in {{name}} would be a good idea with a {{confidence}}% confidence</h4>
  <div style="text-align:center; vertical-align: middle; padding:20px">
    <h4 style="margin: 0px auto 0px auto;">Advanced View</h4><br>
    <label class="switch">
      <input type="checkbox" id=checkbox1>
      <span class="slider round"></span>
    </label>
  </div>
  <div style="text-align:center" id="autoUpdate" class="autoUpdate" >
  <script>
    var body = document.body,
        tbl  = document.createElement('table');
    tbl.style.width  = '100px';
    tbl.style.border = '1px solid white';

    for(var i = 0; i < 2; i++){
        var tr = tbl.insertRow();
        for(var j = 0; j < 29; j++){
            if(i == 2 && j == 1){
                break;
            } else {
                var td = tr.insertCell();
                if (i==0){
                  if (j==0){
                    td.appendChild(document.createTextNode(''));
                  }
                  else{
                    td.appendChild(document.createTextNode(j));
                  }
                }
                if (i==1){
                  if (j==0){
                    td.appendChild(document.createTextNode('Data'));
                  }
                  else{
                    if (j%3==0){
                      td.appendChild(document.createTextNode(' + '));
                    }
                    else{
                      td.appendChild(document.createTextNode(' - '));
                    }
                  }
                }
                td.style.border = '1px solid white';
                if(i == 1 && j == 1){
                    td.setAttribute('rowSpan', '2');
                }
            }
        }
    }
    var cells = tbl.getElementsByTagName('td');
    for (var r = 0, n = tbl.rows.length; r < n; r++) {
        for (var c = 0, m = tbl.rows[r].cells.length; c < m; c++) {
          cells[c+r*29].style.color="#FFFFFF";
          if (r==1){
            if (tbl.rows[r].cells[c].innerHTML==" + "){
              cells[c+r*29].style.color="#00FF00";
            }
            if (tbl.rows[r].cells[c].innerHTML==" - "){
              cells[c+r*29].style.color="#FF0000";
            }
          }
        }
    }
    tbl.style.padding="4px";
    tbl.style.borderSpacing="4px";
    tbl.style.marginLeft="auto";
    tbl.style.marginRight="auto";
    tbl.style.columnWidth="100px";
    document.getElementById("autoUpdate").appendChild(tbl);
    document.getElementById("autoUpdate").style.display="none";
  </script>
  </div>
</div>
{% endblock %}